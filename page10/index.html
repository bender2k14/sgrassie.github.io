
<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Stuart Grassie's Blog">
    <meta name="author" content="Stuart Grassie">
    <meta name="keywords" content="annoyance,asp.net,blog,Books,bootstrap,build script,C#,cathartic,Coding,delphi,design patterns,DI,Dropbox,editing,euler,exception,Git,github-api,IoC,Java,jenkins,jQuery,linux,log4net,Logging,msbuild,nancy,News,npoco,PHP,Plugin Manager,Powershell,prism,Project Euler,psake,random,RestSharp,sandra.snow,self pity,SignalR,snow,Source Control,StructureMap,thoughts,Uncategorized,vim,winner,wpf" />
    <title>temporalcohesion.co.uk</title>

    <!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

    <!-- Custom styles for this template -->
    <link href="/stylesheets/custom-styles.css" rel="stylesheet" type="text/css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="canonical" href="http://www.temporalcohesion.co.uk/page10/" />
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">temporalcohesion.co.uk</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
            <li><a href="/archive">Archives</a></li>
          </ul>
	  <ul class="nav navbar-nav navbar-right">
		  <li><a href="http://twitter.com/stugrassie"><img src="/images/twitter.png"></a></li>
		  <li><a href="http://facebook.com/sgrassie"><img src="/images/facebook.png"></a></li>
		  <li><a href="http://uk.linkedin.com/in/sgrassie/"><img src="/images/linkedin.png"></a></li>
	  </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">
	

<div class="post">
    <h1 class="title">
        <a href="/2008/09/05/building-the-project-euler-framework-part-2/">Building the Project Euler framework, part 2</a>
    </h1>
    <h2>Friday, 05 Sep, 2008</h2>
    <div class="pull-right">
        <i class="fa fa-comment">&nbsp;</i><span class="disqus-comment-count" data-disqus-url="http://www.temporalcohesion.co.uk/2008/09/05/building-the-project-euler-framework-part-2/">
    </div>
    <div class="meta">
        <ul class="list-unstyled list-inline">
            <li><a href="/category">Categories:</a>
            <a href="/category/Coding" title="Coding">Coding</a>
            <a href="/category/Coding" title="Coding">Coding</a>
            <a href="/category/Java" title="Java">Java</a>
            <a href="/category/Java" title="Java">Java</a>
            <a href="/category/Project Euler" title="Project Euler">Project Euler</a>
            <a href="/category/Project Euler" title="Project Euler">Project Euler</a>
            </li>
        </ul>
    </div>
    <hr />

    

<p>In Part 1, I showed a basic problem runner framework for Project Euler, however there are a number of ways in which we can improve it. For example:</p>

<ul>
    <li>How can we run a specific problem?</li>
    <li>How can we hide the answer, but still run the problem?</li>
    <li>How can we avoid manually adding problems to the List of problems?</li>
    <li>Not really to do with the framework, but how can we automate building everything?</li>
</ul>

<p>I'll demonstrate some ways that we can do all that, except for the 4th option, which is handled by Ant.</p>

<h2>Improving the framework</h2>

<p>The first thing that we can do is to add a utility function that handles showing the answers, this way we only have one place in the code that we need to update when we want to change how the answers are shown.</p>

<pre lang="java">private void showAnswers(Problem problem){
        System.out.println("Problem: " + problem.id() + ". Answer: "
                + problem.answer() + ". Time: " + problem.time() + "s");</pre>

<p>}</p>

<p>To run a specific problem, we need to overload the <em>run()</em> function to access the problem we want, and show the answer.</p>

<pre lang="java">public void run(int i) {
        try{
            Problem problem = (Problem) problems.get(i);/* problem list starts at 0 */

            if (problem != null) {
                showAnswers(problem);
            }
            else {
                System.out.println("There doesn't appear to be an answer for problem " + i);
            }

        } catch (IndexOutOfBoundsException e){
            System.err.println("There doesn't appear to be an answer for problem " + i);
        }

    }</pre>

<p>As you can see, we get the specified problem out of the list, and use our new <em>showAnswers()</em> function to display the answer.� I've tried to include some good error checking - we might try to get a problem that doesn't exist.</p>

<p>In order to prevent the answer from being shown, we can add a boolean parameter to the <em>run()</em> and <em>showAnswers()</em> functions.</p>

<pre lang="java">private void showAnswers(Problem problem, boolean showAnswers){
        if(showAnswers){
            System.out.println("Problem: " + problem.id() + ". Answer: "
                    + problem.answer() + ". Time: " + problem.time() + "s");
            }
            else {
                problem.answer(); /* we still need to work out the answer */
                System.out.println("Problem: " + problem.id() + ". Time: " + problem.time() + "s");
            }
    }

public void run(boolean showAnswers) {
        for (Problem problem : problems) {
            if (problem != null) {
                showAnswers(problem, showAnswers);
            }
        }
    }</pre>

<p>Dont't forget to change the overloaded <em>run(int i)</em> to <em>run(int i, boolean showAnswers)</em>. This way we can control exactly� whether to show the answers when we run all the problems, or to show the answer if we run a specific problem.</p>

<p>One thing remains to do, and that is to correctly parse the command line arguments to control whether the answers are shown or not. We want to handle something like this:</p>

<p>C:developmenteuler&gt;java -jar ProjectEuler.jar 42 -noanswer</p>

<p>Where 42 is problem 42, and -noanswer clearly specifies not to show the answer. We'll also need to handle all combinations of this as well, such as:</p>

<p>C:developmenteuler&gt;java -jar ProjectEuler.jar 42</p>

<p>Which should show the answer. I'm not going to show my code for parsing the command line arguements, I'll leave that as an exercise for the reader, as I believe that it is adequately covered elsewhere on the internet, and in any number of Java books.</p>

<p>The more astute among you will notice that I've not mentioned how we are going to avoid manually adding problems to the List of problems. I'll cover that next time.</p>
 
    <hr />
</div><!--/.post-->
<div class="post">
    <h1 class="title">
        <a href="/2008/08/29/source-control-using-dropbox/">Source control using Dropbox</a>
    </h1>
    <h2>Friday, 29 Aug, 2008</h2>
    <div class="pull-right">
        <i class="fa fa-comment">&nbsp;</i><span class="disqus-comment-count" data-disqus-url="http://www.temporalcohesion.co.uk/2008/08/29/source-control-using-dropbox/">
    </div>
    <div class="meta">
        <ul class="list-unstyled list-inline">
            <li><a href="/category">Categories:</a>
            <a href="/category/Coding" title="Coding">Coding</a>
            <a href="/category/Coding" title="Coding">Coding</a>
            </li>
        </ul>
    </div>
    <hr />

    

<p>Everyone developer should use some form of <a title="Wikipedia entry on source control" href="http://en.wikipedia.org/wiki/Source_control" target="_blank">source control</a>. It's like an unwritten law, if you don't use it, then you should - as long as it isn't <a title="Jeff Atwood on why you shouldn't use sourcesafe" href="http://www.codinghorror.com/blog/archives/000660.html" target="_blank">sourcesafe</a>.</p>

<p>A few weeks ago, I recently managed to get hold of an invite to <a title="get dropbox" href="http://www.getdropbox.com/" target="_blank">Dropbox</a>, which describes itself as "Secure back up, sync and sharing made easy". I've been using it both as a basic form of source control, and because I always tend to forget my usb pendrive, as a portable storage device.</p>

<p>The great thing about Dropbox is that you get 2gb of free storage. So far, I've sync'd a few photo's, some word documents and pdf's and the Java source for my Project Euler code, and according to the Dropbox client on my laptop, I've used 0.1% of 2gb. This is more than enough for me, and more than likely I'll use it for some more coding projects. I'd like to see how a Visual Studio project takes to being sync'd across different computers.</p>

<p>With Dropbox, you get complete file history, so if you mistakenly remove some code that turns out to be pretty vital... you can get it back using the simple to use web interface. While you can share folders, and allow people to modify shared folders, I'm not too sure that it would work too well for collaborative software development. I think it would be far better to get a proper form of source control running on a server both parties have access to. There are plenty of proper source control providers out there with free options, and I am considering moving my code onto one of those, if I can find one that has a reasonable yearly subscription.</p>

<p>For my current requirements, it suits me just fine. I realise that Dropbox is not intended to be a source control system, however... When the client is able to sync specific folders that you tell it to, it will be perfect.</p>
 
    <hr />
</div><!--/.post-->
<div class="post">
    <h1 class="title">
        <a href="/2008/08/22/building-the-project-euler-framework-part-1/">Building the Project Euler framework, part 1</a>
    </h1>
    <h2>Friday, 22 Aug, 2008</h2>
    <div class="pull-right">
        <i class="fa fa-comment">&nbsp;</i><span class="disqus-comment-count" data-disqus-url="http://www.temporalcohesion.co.uk/2008/08/22/building-the-project-euler-framework-part-1/">
    </div>
    <div class="meta">
        <ul class="list-unstyled list-inline">
            <li><a href="/category">Categories:</a>
            <a href="/category/Coding" title="Coding">Coding</a>
            <a href="/category/Coding" title="Coding">Coding</a>
            <a href="/category/Java" title="Java">Java</a>
            <a href="/category/Java" title="Java">Java</a>
            <a href="/category/Project Euler" title="Project Euler">Project Euler</a>
            <a href="/category/Project Euler" title="Project Euler">Project Euler</a>
            </li>
        </ul>
    </div>
    <hr />

    

<p>As promised, here is the first part of the series of posts I hope to write demonstrating how I wrote my problem runner framework for <a title="Project Euler!" href="http://projecteuler.net/" target="_blank">Project Euler</a>.</p>

<p>Firstly, before you continue reading, I suggest that you research the <a title="The Command pattern on Wikipedia" href="http://en.wikipedia.org/wiki/Command_pattern" target="_blank">Command</a> pattern, Google will also provide you with some good sources in your research.</p>

<p>Done? Ok then. It shouldn't matter what IDE you use, I am using Eclipse (ganymede), any IDE should do. If you don't know what an IDE is, then go and find out, and then come back.</p>

<h2>Start Coding</h2>

<p>In your IDE, and following the <a title="Java package naming conventions" href="http://java.sun.com/docs/codeconv/html/CodeConventions.doc8.html" target="_blank">Java package naming conventions</a>, create a package to hold the Project Euler code, for example: co.uk.temporalcohesion.euler.problems. Because we are going to need an interface, also create a package to hold those, as this can help keep things more organised, for example: co.uk.temporalcohesion.euler.interfaces</p>

<p>Let's define that interface</p>

<pre lang="java">public interface Problem {

    /**
     * Answer method. Returns the answer for the problem
     * @return - the integer answer to the problem
     */
    String answer();

    /**
     * The problem number.
     * @return - The number of the problem
     */
    int id();

    /**
     * How long does it take to work out the answer?
     * @return - The time in seconds it takes to work out the answer to the problem
     */
    double time();
}</pre>

<p>Before we move on an implement that interface in a problem, let's write the basic problem runner itself. We'll need a way to register an instance of a problem, and a way to run the problem and get the answer.</p>

<pre lang="java">public class Euler {
    private List&lt;Problem&gt; problems = new ArrayList();

    public Euler() {
        problems.add(new One());
    }

    private void run() {
        for (Problem prob : problems) {
            System.out.println("Problem " + prob.id() + ": " + prob.answer());
        }
    }

    public static void main(String[] args) {
        new Euler().run();
    }
}</pre>

<p>That's pretty much all you need for a basic problem runner. You just register an instance of each problem you write into the problems List object in the constructor, and run the program, and it iterates through each Problem in the List, and outputs the answer.</p>

<p>I'm not going to give you the code to problem one, however it is pretty trivial if you know what the modulus operator is used for...</p>

<p>As you can see, the problem runner itself is fairly basic, and does present some immediate areas of improvement, such as running a specific problem.</p>

<p>I'll cover that next time.</p>
 
    <hr />
</div><!--/.post-->
<div class="post">
    <h1 class="title">
        <a href="/2008/08/15/project-euler-problem-runner-framework-in-java/">Project Euler problem runner framework in Java</a>
    </h1>
    <h2>Friday, 15 Aug, 2008</h2>
    <div class="pull-right">
        <i class="fa fa-comment">&nbsp;</i><span class="disqus-comment-count" data-disqus-url="http://www.temporalcohesion.co.uk/2008/08/15/project-euler-problem-runner-framework-in-java/">
    </div>
    <div class="meta">
        <ul class="list-unstyled list-inline">
            <li><a href="/category">Categories:</a>
            <a href="/category/Coding" title="Coding">Coding</a>
            <a href="/category/Coding" title="Coding">Coding</a>
            <a href="/category/Java" title="Java">Java</a>
            <a href="/category/Java" title="Java">Java</a>
            <a href="/category/Project Euler" title="Project Euler">Project Euler</a>
            <a href="/category/Project Euler" title="Project Euler">Project Euler</a>
            </li>
        </ul>
    </div>
    <hr />

    

<p>Recently, I've been working on the problems on <a title="Projec Euler!" href="http://projecteuler.net/" target="_blank">Project Euler</a>, and I've done the first 16 problems (in Java), although I will freely admit that I had help on two of the most difficult ones. I do intend on continuing to do the problems, and I am currently working on problem 17, however I paused to write the problem runner framework I'm going to talk about in this post.</p>

<p>What I had started to do, was to write each solution in it's own Class, and have the main(String[] args) method output the answer. This was fine for the first few problems, and I could have continued to do it like that for all of the problems - however I wanted to be able to run all the problems at once, or a specific problem, and get the answer(s), or not show the answers but still get the timings.</p>

<p>After chatting with one of the Senior Dev's at my job, he pointed out that what I wanted to do was basically the <a title="Command Pattern on Wikipedia" href="http://en.wikipedia.org/wiki/Command_pattern" target="_blank">Command</a> pattern. He sent me some example code, although once he'd said "Command pattern" I knew exactly what it was that I needed to do.</p>

<p>Thus, my problem runner framework was born, and whilst fairly simple, it does employ some techniques that the beginning Java developer might not be aware of. So, what I am going to (try) to do over the next few weeks is write a series of posts that show how I wrote it, partly just to have some content on my blog (which I am really, really lazy at updating), secondly to see how good I am at explaining something like this, and thirdly - it might actually be useful to someone.</p>

<p>The output of the problem runner framework looks like this:</p>

<p>C:development&gt;java -jar euler.jar -noanswers
Project Euler : Problem Runner - http://projecteuler.net/</p>

<p>Problem: 1. Time: 0.0s
Problem: 2. Time: 0.0s
Problem: 3. Time: 0.347s
Problem: 4. Time: 0.307s
Problem: 5. Time: 63.803s
Problem: 6. Time: 0.0s
Problem: 7. Time: 0.335s
Problem: 8. Time: 0.0020s
Problem: 9. Time: 34.178s
Problem: 10. Time: 0.369s
Problem: 11. Time: 1.218275999017E9s
Problem: 12. Time: 0.021s
Problem: 13. Time: 0.0s
Problem: 14. Time: 21.717s
Problem: 15. Time: 0.0s
Problem: 16. Time: 0.0010s</p>

<p>As you can see, I have output a list of the problems, and the time taken to solve the problem, but I haven't shown the answer.</p>

<p>Well, you didn't think I was going to tell you the answers... Did you?</p>

<p>This also shows that I need to work on problem 5, 9 and 14 to try and optimise the solution to speed up performance, Project Euler says that problems "should" take under a minute to solve, however I'd still like to improve the code.</p>
 
    <hr />
</div><!--/.post-->
<div class="post">
    <h1 class="title">
        <a href="/2008/01/07/new-years-resolutions-are-so-passe/">New Year's Resolutions are so pass�</a>
    </h1>
    <h2>Monday, 07 Jan, 2008</h2>
    <div class="pull-right">
        <i class="fa fa-comment">&nbsp;</i><span class="disqus-comment-count" data-disqus-url="http://www.temporalcohesion.co.uk/2008/01/07/new-years-resolutions-are-so-passe/">
    </div>
    <div class="meta">
        <ul class="list-unstyled list-inline">
            <li><a href="/category">Categories:</a>
            <a href="/category/Uncategorized" title="Uncategorized">Uncategorized</a>
            </li>
        </ul>
    </div>
    <hr />

    

<p>It's true, New Years resolutions are pass�. Every year, you look at what is wrong in your life and triumphantly decide that you are going to resolve these problems by issuing a bold and sweeping set of statements, or edicts.</p>

<ul>
    <li>Lose weight</li>
    <li>Stop smoking</li>
    <li>Get fit</li>
</ul>

<p>These are what you want to achieve, chasing that ever elusive dream of making your life better. Can you? Can a simple list of statements help you achieve these goals? I'm not so sure. For some people I'm sure that they don't even have to write them down, those super motivated people who seem to exude success.</p>

<p>I used to do this, on scraps of easily lost paper, "Stuart's New Year's Resolutions!" it would say, with a list of two or three word ambition's for the year. Lost by February. For the last few years I haven't even bothered with writing them down, I'd just mouth off to anyone who would listen, "I'm gonna do this, and that, this year, you wait and see".</p>

<p>Which funnily enough, didn't get me very far with achieving very much. That said, 2007 was a year I'll never forget, for a number of reasons (not all of which I want to go into here), and it has led me to believe even more than I did, that it is all well and good to strole through life without a care, thinking everything is fine and dandy. Because it is not. Doing that will get you stuck, trapped in a rut that you can't get out of, never having made anything of your life.</p>

<p>Thankfully, I'm pretty certain that I'm not in a rut. Trust me, I've been there and I know what it is like.</p>

<p>So what to do instead of making 'New Year's Resolutions'? It's simple: Set goals. "But", I hear you cry, "a goal IS a resolution?!" Which in this sense I suppose they are, however there is a crucial difference. A goal set's out what you want to do and how you are going to achieve it.</p>

<p>The above list could be re-written like so:</p>

<ul>
    <li>Lose weight by eating healthily and exercising more to get fit.</li>
    <li>Stop smoking by using patches and will power, giving up completely by Easter.</li>
    <li>Get fit, by joining a gym, running and cycling and lose 2 stone by Easter</li>
</ul>

<p>These aren't my goals for this year... Ok, I don't smoke, but the other two count. I'm not revealing my other goals... yet. I have several though, and I intend to get stuck in and achieve them.</p>
 
    <hr />
</div><!--/.post-->

<!-- Pagination links -->
<div id="post-pagination" class="pagination">


    <p class="previous">
    <a href="/page9">Previous Page</a>
    </p>


    <p class="previous">
    <a href="/page11">Next Page</a>
    </p>

</div>


        
        <hr />
        <footer>
            <p>&copy; temporalcohesion.co.uk 2014-15 | Powered by <a href="https://github.com/Sandra/Sandra.Snow" rel="generator">Sandra.Snow</a></p>
        </footer>

    </div><!-- /.container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(['_setAccount', 'UA-9870754-1']);
_gaq.push(['_trackPageview']);
        
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>

    <script src="/javascripts/prettify.js"></script>
    <script type='text/javascript'>
      $(function () {
        $("pre code").parent().each(function () {
          if (!$(this).hasClass("prettyprint")) {
            $(this).addClass("prettyprint");
            a = true
          }
        });

        prettyPrint();
      });
    </script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?skin=sons-of-obsidian"></script>
    <script src="/javascripts/cohesion.js"></script>
<script type="text/javascript">
var disqus_shortname = 'temporalcohesion'; 

(function () {
var s = document.createElement('script'); s.async = true;
s.type = 'text/javascript';
s.src = '//' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
</body>
</html>
