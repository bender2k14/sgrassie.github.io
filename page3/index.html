
<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Stuart Grassie's Blog">
    <meta name="author" content="Stuart Grassie">
    <meta name="keywords" content="annoyance,asp.net,blog,Books,bootstrap,build script,C#,cathartic,Coding,delphi,design patterns,DI,Dropbox,editing,euler,exception,Git,github-api,IoC,Java,jenkins,jQuery,linux,log4net,Logging,msbuild,nancy,News,npoco,PHP,Plugin Manager,Powershell,prism,programming,Project Euler,psake,random,RestSharp,sandra.snow,self pity,SignalR,snow,Source Control,StructureMap,thoughts,Uncategorized,vim,winner,wpf" />
    <title>temporalcohesion.co.uk</title>

    <!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap-theme.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">

    <!-- Custom styles for this template -->
    <link href="/stylesheets/custom-styles.css" rel="stylesheet" type="text/css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="canonical" href="http://www.temporalcohesion.co.uk/page3/" />
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">temporalcohesion.co.uk</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
            <li><a href="/archive">Archives</a></li>
          </ul>
	  <ul class="nav navbar-nav navbar-right">
		  <li><a href="http://twitter.com/stugrassie"><img src="/images/twitter.png"></a></li>
		  <li><a href="http://facebook.com/sgrassie"><img src="/images/facebook.png"></a></li>
		  <li><a href="http://uk.linkedin.com/in/sgrassie/"><img src="/images/linkedin.png"></a></li>
	  </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">
	

<div class="post">
    <h1 class="title">
        <a href="/2014/03/03/how-i-moved-my-blog-from-wordpress-to-snow/">How I moved my blog from wordpress to snow, part one</a>
    </h1>
    <h2>Monday, 03 Mar, 2014</h2>
    <div class="pull-right">
        <i class="fa fa-comment">&nbsp;</i><span class="disqus-comment-count" data-disqus-url="http://www.temporalcohesion.co.uk/2014/03/03/how-i-moved-my-blog-from-wordpress-to-snow/">
    </div>
    <div class="meta">
        <ul class="list-unstyled list-inline">
            <li><a href="/category">Categories:</a>
            <a href="/category/blog" title="blog">blog</a>
            <a href="/category/sandra.snow" title="sandra.snow">sandra.snow</a>
            </li>
        </ul>
    </div>
    <hr />

    <ul class="snow-series"><li>How I moved my blog from wordpress to snow, part one</li><li><a href="/2014/05/30/how-i-moved-my-blog-to-sandra-now-part2/">How I moved my blog to sandra snow, part two</a></li></ul>

<p>Wherein I show you how I moved my blog from Wordpress, to a statically generated html hosted on github. I will assume that you have a wordpress blog, hosted on either Wordpress.com or your own hosting. If you don't have a wordpress based blog, then that's ok, most of this will still apply.</p>

<p>We can identify a pretty broad set of tasks straightaway:</p>

<ol>
<li>Export posts from wordpress into markdown.</li>
<li>Configure Sandra.Snow to publish our markdown.</li>
<li>Make it look nice.</li>
<li>Setup github to publish our new site.</li>
<li>Update our DNS settings.</li>
</ol>

<h2>Liberating content from Wordpress</h2>

<p><img src="../../../../../images/wordpress-export.png" alt="Export wordpress content"></p>

<p>Jekyll has some tooling that enables auto-exporting of your blog and its contents into markdown for you, but as it is still (relativly) early days for Sandra.Snow, there is no such tooling for us to leverage.</p>

<p>Wordpress makes it fairly easy to export your blog posts, pages, comments and some other meta-information, packaging everything up into a single XML file, that depending on the number of blog post and other content you have, can be fairly large.</p>

<p>When you click export, you'll be able to download the XML file containing your content. Now we just have to pull out what we want.</p>

<h2>wp2md</h2>

<p>I looked around for something that would do the conversion of my wordpress content into markdown, but I couldn't find one that I liked, or that worked exactly the way that I wanted it to. So <a href="https://github.com/sgrassie/wp2md.net">I wrote my own</a>.</p>

<p>The export file format isn't documented anywhere that I could find online, there were a few bits and pieces here and there on blogs and on some forums, but, honestly, it's just an xml file, it's not all that difficult. The only thing that may trip you up is the number of xml namespaces it uses, although if like me you've had a job maintaining software which manages complex xml, then it's no big deal.</p>

<p>I found it has a root <code>&lt;rss&gt;</code> element, followed by <code>&lt;channel&gt;</code> and then <code>&lt;item&gt;</code> where an item is a post, comment or even a page. An item is then broken down into further child elements which include things like the title of the post (or page, or comment), the url, publication date, actual content of the post, and various other pieces of meta data about the post. For example:</p>

<pre><code>&lt;title&gt;Definitely given up on my github-csharp-api project&lt;/title&gt;
&lt;link&gt;http://temporalcohesion.co.uk/2013/11/07/definitely-given-up-on-my-github-csharp-api-project/&lt;/link&gt;
&lt;pubDate&gt;Thu, 07 Nov 2013 21:08:19 +0000&lt;/pubDate&gt;
&lt;dc:creator&gt;&lt;![CDATA[stuart]]&gt;&lt;/dc:creator&gt;
&lt;guid isPermaLink="false"&gt;http://temporalcohesion.co.uk/?p=394&lt;/guid&gt;
&lt;description&gt;&lt;/description&gt;
&lt;content:encoded&gt;&lt;![CDATA[Not that I'd spent much time working on it lately. The fine folks at github have released Ocktokit.net, a C# library for accessing the github api. It's an official api - it renders my crappy project useless, so I'm putting it down completely.

I will not work on it anymore.]]&gt;&lt;/content:encoded&gt;
&lt;excerpt:encoded&gt;&lt;![CDATA[]]&gt;&lt;/excerpt:encoded&gt;
&lt;wp:post_id&gt;394&lt;/wp:post_id&gt;
&lt;wp:post_date&gt;2013-11-07 21:08:19&lt;/wp:post_date&gt;
&lt;wp:post_date_gmt&gt;2013-11-07 21:08:19&lt;/wp:post_date_gmt&gt;
......
</code></pre>

<p>So I defined a POCO <a href="https://github.com/sgrassie/wp2md.net/blob/master/wp2md/Item.cs"><code>Item.cs</code></a> model class to hold everything interesting about a post, and then parsed the document to get all of the items.</p>

<pre><code>Items = (from item in _document.Root.Element("channel").Elements("item")
  select new Item
  {
    Title = item.Element("title").Value,
    PublicationDate = ParseDateTime(item.Element("pubDate").Value),
    Author = item.Element(dc + "creator").Value,
    ....
  }).ToList()
</code></pre>

<p>Fairly standard Linq-to-Object parsing of the XML document. You can see the XML Namespace <code>dc</code> being used, that is just a static namespace member defined as <code>private static XNamespace dc = "http://purl.org/dc/elements/1.1/";</code> at the top of the class.</p>

<p>Now that we have a whole bunch of <code>Items</code>, we can move on to generating the markdown.</p>

<p>Markdown is really fairly simple. Before I embarked on this process, I'd never realised how powerfully simple it is. Our <code>Item</code> now contains the (mostly) encoded content of our post, so we don't have any worry about doing any escaped html removal. To my eyes, and someone correct me if I'm wrong, but it seems to me that Wordpress virtually converts our content into markdown when it generates the export. I could be wrong, but it's what it looks like to me.</p>

<p>We can then use the Visitor pattern to control how we want our <code>Items</code> to be processed.</p>

<pre><code>parser.Parse(document);
parser.VisitWith(new PostVisitor());
</code></pre>

<p>I did not have very many pages on my wordpress blog, so I was not concerned with converting them. Similarly, I'd already converted my wordpress blog to use disqus comments, so I did not need to write a Visitor to handle converting the comments.</p>

<p>As this post is already getting fairly long, I will leave a discussion of the Visitor pattern to another time, but you can see the <code>PostVisitor</code> implementation in detail <a href="https://github.com/sgrassie/wp2md.net/blob/master/wp2md/Visitor.cs">in the repo on Github.com</a>.</p>
 
    <hr />
</div><!--/.post-->
<div class="post">
    <h1 class="title">
        <a href="/2014/02/19/extending-sandra-snow/">Extending Sandra.Snow</a>
    </h1>
    <h2>Wednesday, 19 Feb, 2014</h2>
    <div class="pull-right">
        <i class="fa fa-comment">&nbsp;</i><span class="disqus-comment-count" data-disqus-url="http://www.temporalcohesion.co.uk/2014/02/19/extending-sandra-snow/">
    </div>
    <div class="meta">
        <ul class="list-unstyled list-inline">
            <li><a href="/category">Categories:</a>
            <a href="/category/snow" title="snow">snow</a>
            </li>
        </ul>
    </div>
    <hr />

    

<p>After switching my blog over to use <a href="https://github.com/Sandra/Sandra.Snow">Sandra.Snow</a>, I noticed that in at least one feed aggregator that my blog shows up in, it wasn't displaying correct. The escaped html in the feed generator from the markdown by Snow wasn't getting rendered in the aggregator correctly. After a little digging it was apparant to me that the <code>RssResponse</code> in Snow was not correctly setting it's content type.</p>

<p>I could have left it there, or submitted a small patch to fix the issue (I still will), but I noticed that the feed it generates isn't a pure atom feed, so I basically copied the relevant classes (changing 'rss' to 'atom') in the class names, and did a little configuration, and swapped over the feed to use atom.</p>

<p>Even though I know that the atom feed validates, this post is in part a test to see what happens...</p>
 
    <hr />
</div><!--/.post-->
<div class="post">
    <h1 class="title">
        <a href="/2014/02/15/updating-git-submodules/">Updating git submodules</a>
    </h1>
    <h2>Saturday, 15 Feb, 2014</h2>
    <div class="pull-right">
        <i class="fa fa-comment">&nbsp;</i><span class="disqus-comment-count" data-disqus-url="http://www.temporalcohesion.co.uk/2014/02/15/updating-git-submodules/">
    </div>
    <div class="meta">
        <ul class="list-unstyled list-inline">
            <li><a href="/category">Categories:</a>
            <a href="/category/git" title="git">git</a>
            </li>
        </ul>
    </div>
    <hr />

    

<p>I'm writing this up mostly for my own benefit so that I don't have to go searching for it again in future.</p>

<p>When you have a git repository which has a few submodules (.e.g. a vim dotfiles repo), you may find that you'll notice one day that they all point to ancient commits in their parent repositories. Consequently, you want to update them, to get the new shiny things.</p>

<p>To do so is fairly straightforward (from your parent repository):</p>

<pre><code>git submodule update --recursive --remote
</code></pre>

<p>This tells git that you want to update the submodules to the latest commit on the submodules remote tracking branch (<code>--remote</code>) and to do it recursively (<code>--recursive</code>) on all of the submodules (and their submodules if any).</p>

<p>Then if you check the <code>git status</code> you should see something like this:</p>

<pre><code>
M:\vimfiles [master +0 ~9 -0]> git status
# On branch master
# Changes not staged for commit:
#   (use "git add <file>..." to update what will be committed)
#   (use "git checkout -- <file>..." to discard changes in working directory)
#
#       modified:   bundle/ctrlp (new commits)
#       modified:   bundle/delimitmate (new commits)
#       modified:   bundle/nerdtree (new commits)
#       modified:   bundle/tagbar (new commits)
#       modified:   bundle/vim-jade (new commits)
#       modified:   bundle/vim-javascript.git (new commits)
#       modified:   bundle/vim-pathogen (new commits)
#       modified:   bundle/vim-powerline (new commits)
#       modified:   bundle/vim-ps1 (new commits)
#
no changes added to commit (use "git add" and/or "git commit -a")
</code></pre>

<p>You may find this confusing, as you have just updated all the submodules to the latest commit. Why are are there new commits? If you do a <code>diff</code> on one of them, you'll see something like this:</p>

<pre><code>
M:\vimfiles [master +0 ~9 -0]> git diff bundle/ctrlp
diff --git a/bundle/ctrlp b/bundle/ctrlp
index be5842a..b5d3fe6 160000
--- a/bundle/ctrlp
+++ b/bundle/ctrlp
@@ -1 +1 @@
-Subproject commit be5842a376f16c16c5dc4cc1879d7168a074f7de
+Subproject commit b5d3fe66a58a13d2ff8b6391f4387608496a030f
</code></pre>

<p>Which makes sense, because you have asked git to update the submodule(s) to the latest commit, so it is therefore unsuprising that your repo now knows that its submodules have changed. You need to tell your repository to actually use the latest commit of the submodules, and then commit everything:</p>

<pre><code>
git submodule update
git commit -am "Updated submodules to latest"
</code></pre>

<p>Hope that helps someone.</p>
 
    <hr />
</div><!--/.post-->
<div class="post">
    <h1 class="title">
        <a href="/2014/02/08/moved-blog-to-snow-and-github/">Moved blog to snow and github</a>
    </h1>
    <h2>Saturday, 08 Feb, 2014</h2>
    <div class="pull-right">
        <i class="fa fa-comment">&nbsp;</i><span class="disqus-comment-count" data-disqus-url="http://www.temporalcohesion.co.uk/2014/02/08/moved-blog-to-snow-and-github/">
    </div>
    <div class="meta">
        <ul class="list-unstyled list-inline">
            <li><a href="/category">Categories:</a>
            <a href="/category/blog" title="blog">blog</a>
            <a href="/category/nancy" title="nancy">nancy</a>
            <a href="/category/sandra.snow" title="sandra.snow">sandra.snow</a>
            </li>
        </ul>
    </div>
    <hr />

    

<h1>No longed bound to wordpress</h1>

<p>For most of the time I've been blogging, I've used Wordpress. It's very good software, but kind of requires
somewhere to host it. Either on your own custom hosting, or wordpress.com. For a long time, I paid for my own
hosting provider. But the times they are a changing, and I'm no longer prepared to pay for my own hosting.</p>

<h2>Enter snow</h2>

<p>Github provide a way of hosting a website, for free, it's called Github Pages. Using a tool called Jekyll, it is
possible to take a series of Markdown files and generate a static html website from them. The only drawback to Jekyll
is that that it's written in Ruby, it can be a pain to configure on Windows, and I'm primarily a windows kind of guy. </p>

<p>It's also true that the vast majority of guides/tutorials out there for running a blog with Jekyll assume that you'll
be doing it on either a Mac or a Linux machine. I work entirely on Windows, and there is no way I'm going to try to
configure Ruby on all the machines I use (or might use).</p>

<p><a href="https://github.com/Sandra/Sandra.Snow">Sandra.Snow</a> is written in C#, and uses <a href="https://github.com/nancyFx/Nancy">Nancyfx</a> to process the markdown into static html, exactly like Jekyll. I'm
not sure about the name myself, but there you go.</p>

<p>Over the next few posts I'll go over how I switched my blog from a hosted Wordpress to a staticly generated site using Snow.</p>
 
    <hr />
</div><!--/.post-->
<div class="post">
    <h1 class="title">
        <a href="/2013/11/17/learning-reactiveui-for-fun-and-profit-hello-world/">Learning ReactiveUI for fun and profit: Hello, World!</a>
    </h1>
    <h2>Sunday, 17 Nov, 2013</h2>
    <div class="pull-right">
        <i class="fa fa-comment">&nbsp;</i><span class="disqus-comment-count" data-disqus-url="http://www.temporalcohesion.co.uk/2013/11/17/learning-reactiveui-for-fun-and-profit-hello-world/">
    </div>
    <div class="meta">
        <ul class="list-unstyled list-inline">
            <li><a href="/category">Categories:</a>
            <a href="/category/Uncategorized" title="Uncategorized">Uncategorized</a>
            </li>
        </ul>
    </div>
    <hr />

    

<h1>Introduction</h1>

<p>I want to start learning how to use ReactiveUI to develop a WPF desktop application, and I have experience with building MVVM applications with Prism and Caliburn.Micro, so the challenge for me is learning RxUi's opinions and how to do stuff in an asynchronous fashion. I'm going to assume that anyone reading this has some understanding of WPF, XAML, MVVM and some familiarity with C#.</p>

<h1>Baby Steps</h1>

<p>Our goal here is simple: Create a basic WPF application, configure ReactiveUI and display a view with a label on it which says "Hello, World!". Not very original, but it should enable us to get a very basic grasp of the library.</p>

<p>Ok?</p>

<p>Start a new WPF application, and add ReactiveUI to it via NuGet. Make sure to add ReactiveUI-Xaml to it, as that will allow us to exciting things with WPF.</p>
 
    <hr />
</div><!--/.post-->

<!-- Pagination links -->
<div id="post-pagination" class="pagination">


    <p class="previous">
    <a href="/page2">Previous Page</a>
    </p>


    <p class="previous">
    <a href="/page4">Next Page</a>
    </p>

</div>


        
        <hr />
        <footer>
            <p>&copy; temporalcohesion.co.uk 2014-15 | Powered by <a href="https://github.com/Sandra/Sandra.Snow" rel="generator">Sandra.Snow</a></p>
        </footer>

    </div><!-- /.container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <script src="http://code.jquery.com/jquery-2.1.4.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>

    <script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(['_setAccount', 'UA-9870754-1']);
_gaq.push(['_trackPageview']);
        
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>

    <script src="/javascripts/prettify.js"></script>
    <script type='text/javascript'>
      $(function () {
        $("pre code").parent().each(function () {
          if (!$(this).hasClass("prettyprint")) {
            $(this).addClass("prettyprint");
            a = true
          }
        });

        prettyPrint();
      });
    </script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?skin=sons-of-obsidian"></script>
    <script src="/javascripts/cohesion.js"></script>
<script type="text/javascript">
var disqus_shortname = 'temporalcohesion'; 

(function () {
var s = document.createElement('script'); s.async = true;
s.type = 'text/javascript';
s.src = '//' + disqus_shortname + '.disqus.com/count.js';
(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
}());
</script>
</body>
</html>
