
<!DOCTYPE html>
<html dir="ltr" lang="en-US">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Stuart Grassie's Blog">
    <meta name="author" content="Stuart Grassie">
    <meta name="keywords" content="annoyance,asp.net,blog,Books,bootstrap,build script,C#,cathartic,Coding,delphi,design patterns,DI,Dropbox,editing,euler,exception,Git,github-api,IoC,Java,jenkins,jQuery,linux,log4net,Logging,msbuild,nancy,News,npoco,PHP,Plugin Manager,Powershell,prism,Project Euler,psake,random,RestSharp,sandra.snow,self pity,SignalR,snow,Source Control,StructureMap,thoughts,Uncategorized,vim,winner,wpf" />
    <title>temporalcohesion.co.uk</title>

    <!-- Bootstrap core CSS -->
    <!-- Latest compiled and minified CSS -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <!-- Optional theme -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap-theme.min.css">

    <!-- Custom styles for this template -->
    <link href="/stylesheets/custom-styles.css" rel="stylesheet" type="text/css">

    <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->

    <link rel="canonical" href="http://www.temporalcohesion.co.uk/page5/" />
</head>
<body>
    <div class="navbar navbar-inverse navbar-fixed-top" role="navigation">
      <div class="container">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
            <span class="sr-only">Toggle navigation</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/">temporalcohesion.co.uk</a>
        </div>
        <div class="collapse navbar-collapse">
          <ul class="nav navbar-nav">
            <li class="active"><a href="/">Home</a></li>
            <li><a href="/about">About</a></li>
            <li><a href="/contact">Contact</a></li>
            <li><a href="/archive">Archives</a></li>
          </ul>
	  <ul class="nav navbar-nav navbar-right">
		  <li><a href="http://twitter.com/stugrassie"><img src="/images/twitter.png"></a></li>
		  <li><a href="http://facebook.com/sgrassie"><img src="/images/facebook.png"></a></li>
		  <li><a href="http://uk.linkedin.com/in/sgrassie/"><img src="/images/linkedin.png"></a></li>
	  </ul>
        </div><!--/.nav-collapse -->
      </div>
    </div>

    <div class="container">
	

<div class="post">
	<h1 class="title">
		<a href="/2012/10/29/notes-on-vim/">Notes on Vim</a> <small>Monday, 29 Oct, 2012</small>
	</h1>
   <div class="meta">
	   <ul class="list-unstyled list-inline">
			<li><a href="/category/Coding" title="Coding">Coding</a></li>
			<li><a href="/category/editing" title="editing">editing</a></li>
			<li><a href="/category/vim" title="vim">vim</a></li>
	   </ul>
   </div>
            
   
   
<p>Usually the default text editor I installed after re-installing Windows was Notepad++, however, I have recently become a <a title="VIM.org" href="http://www.vim.org/" target="_blank">Vim</a> convert.</p>

<p>I'm sure everyone has heard of Vim, but for those who don't know:</p>

<blockquote>Vim is a highly configurable text editor built to enable efficient text editing. It is an improved version of the vi editor distributed with most UNIX systems.</blockquote>

<p>I started to use Vim primarily as an affect of using Git as my preferred VCS, as msysgit ships with a version of vim and is configured to use as the default editor when you <em>git commit</em>, or do various other things. The more I used it the more I started to like it, so I installed it.</p>

<p>By default, Vim is a very productive editor. It does have a learning curve, but I don't think it is a steep one. You should be able to get up to speed and become productive fairly quickly. Basic navigation and inserting/removing text is quite simple to get to grips with.</p>

<p>Once you have some basic mastery, if you are like me you will quickly want to learn how to customise Vim in order to make it even more useful.</p>
 
   <hr />
</div><!--/.post-->
<div class="post">
	<h1 class="title">
		<a href="/2012/08/27/why-do-i-procrastinate/">Why do I procrastinate?</a> <small>Monday, 27 Aug, 2012</small>
	</h1>
   <div class="meta">
	   <ul class="list-unstyled list-inline">
			<li><a href="/category/cathartic" title="cathartic">cathartic</a></li>
			<li><a href="/category/random" title="random">random</a></li>
			<li><a href="/category/self pity" title="self pity">self pity</a></li>
			<li><a href="/category/Uncategorized" title="Uncategorized">Uncategorized</a></li>
	   </ul>
   </div>
            
   
   
<blockquote>Never put off until tomorrow what you can do the day after tomorrow. - Mark Twain</blockquote>

<p>Procrastination is defined as: <em>�The action of delaying or postponing something.�</em>� It is something with which I am unfortunately very familiar with. I have suffered from it, or been guilty of it, for as long as I can remember.</p>

<p>Why?</p>

<p>Facebook, twitter, read a book, IM a friend, see what films are on the movie channels, do housework, go for a walk, play a video game, re-check email, call my fianc�e, write some code, mindlessly read RSS feeds for the latest up-to-the-second news about the latest iPhone rumours even though I no longer own an iPhone. In short, do anything but that which I have set out to do, which is write a blog post about procrastination.</p>

<p>Case in point on how much I procrastinate about certain things: This blog post. It's been almost a year since I last edited it and saved it as a draft.</p>

<p>[caption id="attachment_326" align="aligncenter" width="452"]<a href="http://temporalcohesion.co.uk/wp-content/uploads/2012/08/lastedited.png"><img class="size-full wp-image-326" title="lastedited" src="http://temporalcohesion.co.uk/wp-content/uploads/2012/08/lastedited.png" alt="Last Edited" width="452" height="53" /></a> I am lazy[/caption]</p>

<p>I�m not going to even attempt to write about curing procrastination because I obviously haven't found something which works for me. There are also a myriad of websites and books available on this subject, and it is painfully obvious that I am not the one to be giving advice on how to beat it. I will instead attempt to explore why it is that I do it.</p>

<p>So why do I procrastinate? An easy question to ask, a harder one to answer. Avoiding thinking about the answer to this question by looking through hits on Google leads me to this blog post at Lifehack.org, on <a href="http://www.lifehack.org/articles/productivity/overcome-procrastination-once-and-for-all.html">overcoming productivity</a>. It contains a number of basic reasons why people procrastinate, and I can identify with all of them, although some more than others. That it is a basic list implies that there are more complex reasons why people procrastinate.</p>

<p>After reflecting on this question for some time, I think that I can confidently say that when I embark on a new project, the initial excitement and enthusiasm for it carry me through, but once that wears off, my interest in it starts to wane. In the case of a coding project, the problem domain is what interests me, the technical challenge of designing and implementing a solution to the problem; once that problem is solved, the interest wanes, and the finer details fail to get polished.</p>

<p>This is in itself fairly interesting, because as a programmer, I do tend to be a little OCD over certain things. Obviously this doesn�t extend to finishing projects. Take for example the Github API library I�ve been �working� on for far too long. Obsessing over tiny implementation details of the best way to handle authentication and access to methods on the API which require authorization has been my primary method of procrastination on this particular project. Now that I�ve pretty much resolved that particular issue, the detail of actually fleshing out all the methods for the API �seems like a boring chore.</p>

<p>This also extends to blogging, clearly evidenced by this blog itself with the almost year long hiatus between updates. Then there is another blog, on a wholly unrelated subject, which I started about 4 years ago and haven�t updated in three-and-a-half. I�ll get the blogging bug, write a few posts, get bored with it, and stop.</p>

<p>I really do need to put a stop to this, as it is becoming a big problem for me, as well as making me look like an idiot. Maybe this whole cathartic post might help me in some small way.</p>
 
   <hr />
</div><!--/.post-->
<div class="post">
	<h1 class="title">
		<a href="/2011/12/12/probably-giving-up-my-csharp-github-api/">Probably giving up my CSharp Github API</a> <small>Monday, 12 Dec, 2011</small>
	</h1>
   <div class="meta">
	   <ul class="list-unstyled list-inline">
			<li><a href="/category/C#" title="C#">C#</a></li>
			<li><a href="/category/Coding" title="Coding">Coding</a></li>
	   </ul>
   </div>
            
   
   
<p><p>I�ve been thinking that I�m going to retire my <a href="https://github.com/sgrassie/csharp-github-api" target="_blank">CSharp Github API</a>. The ugly truth is that I�ve barely worked on it, literally in months. I did a little bit recently, and I had one or two good ideas about certain things, but, I do have to be honest with myself. I am not not admitting defeat, I know that I am capable enough to finish it. </p>  <p>I�m simply bored with it.</p>  <p>Also, someone has <a href="https://github.com/erikzaadi/GithubSharp" target="_blank">already beaten me to it</a>, and is writing something that is actually far superior to what I�d managed to push out. In my defence, I haven�t done very much anyway, so anything that is fairly substantial is going to look better by default.</p>  <p>So, I�m going to knock it on the head. I�ll leave the code, such as it is, up on Github.</p></p>
 
   <hr />
</div><!--/.post-->
<div class="post">
	<h1 class="title">
		<a href="/2011/11/14/stupid-design-decisions-with-the-github-api-wrapper/">Stupid design decisions with the Github API wrapper</a> <small>Monday, 14 Nov, 2011</small>
	</h1>
   <div class="meta">
	   <ul class="list-unstyled list-inline">
			<li><a href="/category/C#" title="C#">C#</a></li>
			<li><a href="/category/github-api" title="github-api">github-api</a></li>
	   </ul>
   </div>
            
   
   
<p>Whilst writing some blog posts about the authentication which I've been implementing, I've come to the realization, almost as an after thought, that even though I've still not got a lot of the main Github API implemented, the way I've envisioned the API working, from a user point of view, is sort of a bit shit.</p>

<pre class="brush:applescript">var userApi = new UserApi();
var user = userApi.GetUser("example");</pre>

<p>Pretty straightforward, right? What about the as yet unwritten GistApi?</p>

<pre class="brush:csharp">var gistApi = new GistApi();
var gist = gistApi.GetGist(...);</pre>

<p>Again, pretty straightforward. But I see a pattern forming. What am I going to do when it comes to the RepositoryApi?</p>

<pre class="brush:csharp">var reposApi = new RepositoryApi();
var repo = reposApi.GetRepository(...);</pre>

<p>Well, that is starting to look pretty fucking stupid. I've caught myself doing it with other methods as well. I simply cannot believe I've let myself be so stupid. At least there is not that much implemented where I'll have to refactor loads of shit.</p>
 
   <hr />
</div><!--/.post-->
<div class="post">
	<h1 class="title">
		<a href="/2011/11/07/adding-authentication-on-the-fly-to-a-restsharp-client-request/">Adding authentication on the fly to a RestSharp client request</a> <small>Monday, 07 Nov, 2011</small>
	</h1>
   <div class="meta">
	   <ul class="list-unstyled list-inline">
			<li><a href="/category/C#" title="C#">C#</a></li>
			<li><a href="/category/Coding" title="Coding">Coding</a></li>
			<li><a href="/category/github-api" title="github-api">github-api</a></li>
	   </ul>
   </div>
            
   
   
<h1>The Basics</h1>

<p>The typical way that you'd make a request with RestSharp:</p>

<ol>
    <li>Create a RestRequest</li>
    <li>Create a RestClient</li>
    <li>Execute the request with the client</li>
    <li>Do something with the response.</li>
</ol>

<p>It's at the point that you get the client object that you may wish to add authentication. For example with a REST API such as Githubs, certain methods behave differently if the request is authenticated or not, so being able to magically turn on authentication is desirable.</p>

<p>To authenticate a request with RestSharp, it is a simple case of creating a RestRequest, RestClient and an IAuthenticator instance for the authenticating mechanism you want to use. For example:</p>

<pre class="brush:csharp">var client = new RestClient
             {
                 BaseUrl ="https://api.github.com",
                 Authenticator = new HttpBasicAuthenticator(username, password)
             };</pre>

<p>This is pretty straightforward and standard RestSharp usage. You may have a class to encapsulate this functionality, with a method which returns the RestClient instance, probably in a base class in order to inherit this common functionality in other classes.</p>

<pre class="brush:csharp">public abstract class BaseApi
{
    RestClient GetRestClient()
    {
        ...
    }
}</pre>

<h1>Options</h1>

<p>There are several methods which we can use to add authentication dynamically to the RestClient instance, ranging from the trivial to the more involved.</p>

<p>The trivial solution is to add the IAuthenticator as a parameter to the method, which is then assigned to the RestClient when it is created. Easy. Also fairly easy is just make it abstract or virtual and override it in an inheriting class, although this breaks SRP.</p>

<p>Alternatively, we can implement the Decorator pattern, and introduce the authentication in a class which is solely responsible for handing it. I'm not going to go into this in too much detail, there is a wealth of information on implementing this pattern already available on the web. Using a Decorator is valid in a lot of situations, particularly when re-factoring someone else's mess, as you can adhere to the same interface and not risk breaking some important business function. In other cases, it is better to intercept.</p>

<h1>Interception</h1>

<p>A pattern which lends itself to this is called Proxy, and if you spend any time with Google and search terms like "c# proxy pattern" you'll quickly end up finding a lot of information about implementing it. You'll also find interesting stuff about Castle.DynamicProxy, and you may quickly realise this is an excellent way of adding the ability to dynamically intercept a method to add additional functionality on the fly. I've implemented an interceptor in the Github API library, with the core magic being:</p>

<pre class="brush:csharp">public void Intercept(IInvocation invocation)
{
    invocation.Proceed(); // let the RestClient be instantiated as normal.
    var restClient = (RestClient)invocation.ReturnValue;
    restClient.Authenticator = _authenticator; // add the authenticator
    invocation.ReturnValue = restClient;
 }</pre>

<p>I then wrap the interception up in a static class, which is a technique I <a href="http://geekswithblogs.net/BlackRabbitCoder/archive/2010/05/06/c-why-decorate-when-you-can-intercept.aspx">saw on another website</a>, which I then wrap in a extension method which with a little bit of generics hangs off API classes in a fluent manner.</p>

<pre class="brush:csharp">var api = new UserApi(GitHubUrl).WithAuthentication(authenticator);</pre>

<p>I feel like it is the best way to do this sort of thing, and I will certainly starting using more of it, where necessary, in all my projects.</p>
 
   <hr />
</div><!--/.post-->

  <!-- Pagination links -->
  <div id="post-pagination" class="pagination">

   
      <p class="previous">
        <a href="/page4">Previous Page</a>
        </p>


    <p class="previous">
      <a href="/page6">Next Page</a>
    </p>

  </div>


        
        <hr />
        <footer>
            <p>&copy; temporalcohesion.co.uk 2014 | Powered by <a href="https://github.com/Sandra/Sandra.Snow" rel="generator">Sandra.Snow</a></p>
        </footer>

    </div><!-- /.container -->

    <!-- Bootstrap core JavaScript
    ================================================== -->
    <script src="https://code.jquery.com/jquery-1.10.2.min.js"></script>
    <script src="http://netdna.bootstrapcdn.com/bootstrap/3.1.0/js/bootstrap.min.js"></script>

    <script type="text/javascript">
var _gaq = _gaq || [];

_gaq.push(['_setAccount', 'UA-9870754-1']);
_gaq.push(['_trackPageview']);
        
(function () {
    var ga = document.createElement('script');
    ga.type = 'text/javascript';
    ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0];
    s.parentNode.insertBefore(ga, s);
})();
</script>

    <script src="/javascripts/prettify.js"></script>
    <script type='text/javascript'>
      $(function () {
        $("pre code").parent().each(function () {
          if (!$(this).hasClass("prettyprint")) {
            $(this).addClass("prettyprint");
            a = true
          }
        });

        prettyPrint();
      });
    </script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js?skin=sons-of-obsidian"></script>

    <script src="/javascripts/cohesion.js"></script>
</body>
</html>
